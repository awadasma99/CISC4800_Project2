{% extends 'base.html' %}

{% block title %} {{recipe['title']}} {% endblock %}

{% block body %}
<img src="{{recipe['image']}}" alt="..." width="20%" height="20%">
<center><h3>{{recipe['title']}}</h3></center>

<div class="row">
    <div class="column left">
        <p><h5> Time to Cook: </h5>
            <br>{{recipe['readyInMinutes']}} minutes
        </p>

        <p><h5> Ingredients </h5>
            <br>
            <ul>
                {% for ingredient in recipe['extendedIngredients'] %}
                    <li>{{ingredient['name']}}</li>
                {% endfor %}
            </ul>
        </p>

        <p><h5> Servings: </h5>
            <br>{{recipe['servings']}}
        </p>

        <h5>Nutrition Info</h5>
        <p>
            Calories: {{nutrition[0]['amount']}} {{nutrition[0]['unit']}}<br>
            Fat: {{nutrition[1]['amount']}} {{nutrition[1]['unit']}}<br>
            Saturated Fat: {{nutrition[2]['amount']}} {{nutrition[2]['unit']}}<br>
            Carbohydrates: {{nutrition[3]['amount']}} {{nutrition[3]['unit']}}<br>
            Sugar: {{nutrition[5]['amount']}} {{nutrition[5]['unit']}}<br>
            Cholesterol: {{nutrition[6]['amount']}} {{nutrition[6]['unit']}}<br>
            Protein: {{nutrition[8]['amount']}} {{nutrition[8]['unit']}}<br>
        </p>
    </div>

    <div class="column right">
        <p> Instructions <br>
            <ol>
                {% for object in instructions %}
                    {% for step in object['steps'] %}
                        <li>{{step['step']}}</li>
                    {% endfor %}
                {% endfor %}
            </ol>
        </p>
    </div>

</div>

<h5>Nutrition Info</h5>
<p>
    Calories: {{nutrition[0]['amount']}} {{nutrition[0]['unit']}}<br>
    Fat: {{nutrition[1]['amount']}} {{nutrition[1]['unit']}}<br>
    Saturated Fat: {{nutrition[2]['amount']}} {{nutrition[2]['unit']}}<br>
    Carbohydrates: {{nutrition[3]['amount']}} {{nutrition[3]['unit']}}<br>
    Sugar: {{nutrition[5]['amount']}} {{nutrition[5]['unit']}}<br>
    Cholesterol: {{nutrition[6]['amount']}} {{nutrition[6]['unit']}}<br>
    Protein: {{nutrition[8]['amount']}} {{nutrition[8]['unit']}}<br>
</p>

<h5>Extra Info</h5>
<p>
    Diet(s): 
    {% if recipe['diets'] %} 
        {{recipe['diets']}} <br>
    {% else %}
        None <br>
    {% endif %}

    Cuisine: 
    {% if recipe['cuisines'] %} 
        {{recipe['cuisines']}} <br>
    {% else %}
        None <br>
    {% endif %}    
</p>

<h2>Similar Recipes</h2>
<p>
    {% for recipe in similarRecipes[0:4] %}
        <img src="https://spoonacular.com/recipeImages/{{recipe['id']}}-556x370.jpg" alt="..." width="20%" height="20%">
        <li>
            <a href="/recipe?id={{recipe['id']}}">{{recipe['title']}}</a>
        </li>
    {% endfor %}
</p>

{% endblock %}